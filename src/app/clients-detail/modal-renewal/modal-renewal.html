<ion-header>
    <ion-toolbar>
        <ion-title>Detalle del crédito</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="dismissModal()">Cerrar</ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>

    <form [formGroup]="creditForm">
        <ion-item>
            <ion-label position="floating">Valor del crédito</ion-label>
            <ion-select placeholder="Selecciona una opción" formControlName="totalAmount" name="totalAmount"
                (ionChange)="showAvailablesFees($event)" required>
                <ion-select-option value="" selected>Seleccione un valor</ion-select-option>
                <ion-select-option value="100000">$ 100.000</ion-select-option>
                <ion-select-option value="150000">$ 150.000</ion-select-option>
                <ion-select-option value="200000">$ 200.000</ion-select-option>
                <ion-select-option value="250000">$ 250.000</ion-select-option>
                <ion-select-option value="300000">$ 300.000</ion-select-option>
                <ion-select-option value="350000">$ 350.000</ion-select-option>
                <ion-select-option value="400000">$ 400.000</ion-select-option>
                <ion-select-option value="450000">$ 450.000</ion-select-option>
                <ion-select-option value="500000">$ 500.000</ion-select-option>
                <ion-select-option value="550000">$ 550.000</ion-select-option>
                <ion-select-option value="600000">$ 600.000</ion-select-option>
                <ion-select-option value="650000">$ 650.000</ion-select-option>
                <ion-select-option value="700000">$ 700.000</ion-select-option>
                <ion-select-option value="750000">$ 750.000</ion-select-option>
                <ion-select-option value="800000">$ 800.000</ion-select-option>
                <ion-select-option value="850000">$ 850.000</ion-select-option>
                <ion-select-option value="900000">$ 900.000</ion-select-option>
                <ion-select-option value="950000">$ 950.000</ion-select-option>
                <ion-select-option value="1000000">$ 1'000.000</ion-select-option>
            </ion-select>
        </ion-item>

        <ion-item>
            <ion-label position="floating">Duración del crédito</ion-label>
            <ion-select formControlName="creditDuration" name="creditDuration" (ionChange)="setFeeTotalAmount($event)" required>
                <ion-select-option value="" selected>Seleccione un valor</ion-select-option>
                <ion-select-option *ngFor="let fee of availableFees" value="{{ fee.duration }}">{{ fee.duration }}
                </ion-select-option>
            </ion-select>
        </ion-item>

        <ion-item>
            <ion-label position="floating">Valor de la cuota</ion-label>
            <ion-input formControlName="feesTotalAmount" name="feesTotalAmount" type="number" readonly></ion-input>
        </ion-item>

        <ion-item>
            <ion-label position="floating">Número de cuotas</ion-label>
            <ion-input formControlName="numberFees" name="numberFees" type="number" readonly></ion-input>
        </ion-item>

        <ion-button expand="block" (click)="createCredit()" [disabled]="!creditForm.valid">Enviar solicitud</ion-button>
    </form>

</ion-content>