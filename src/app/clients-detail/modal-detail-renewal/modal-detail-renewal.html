<ion-header>
    <ion-toolbar>
        <ion-title>Detalle de renovaci√≥n</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="dismissModal()">Cerrar</ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>

    <div class="ion-text-center ion-margin-top">
        <ion-spinner color="primary" *ngIf="loaderRenewal"></ion-spinner>
    </div>

    <ion-card *ngIf="renewal">
        <ion-item>
            <ion-label text-wrap>
                <ion-text>
                    <h2>{{ renewal.id }}</h2>
                </ion-text>
                <p>Total: $ {{ renewal.totalAmount.toLocaleString('DE-de') }}</p>
            </ion-label>
            <ion-badge color="primary">{{ renewal.state }}</ion-badge>
        </ion-item>

        <ion-card-content>
            <ion-grid>

                <ion-row>
                    <ion-col size="7">
                        <ion-label text-wrap>
                            <strong>Nro. Cuotas:</strong>
                        </ion-label>
                    </ion-col>
                    <ion-col size="5" class="align-end">
                        <ion-label text-wrap>
                            <p>{{ renewal.numberFees }}</p>
                        </ion-label>
                    </ion-col>
                </ion-row>

                <ion-row>
                    <ion-col size="7">
                        <ion-label text-wrap>
                            <strong>Cuota total:</strong>
                        </ion-label>
                    </ion-col>
                    <ion-col size="5" class="align-end">
                        <ion-label>
                            <p>$ {{ renewal.feesTotalAmount.toLocaleString('DE-de') }}</p>
                        </ion-label>
                    </ion-col>
                </ion-row>

                <ion-row>
                    <ion-col size="7">
                        <ion-label text-wrap>
                            <strong>Frecuencia pagos:</strong>
                        </ion-label>
                    </ion-col>
                    <ion-col size="5" class="align-end">
                        <ion-label>
                            <p>{{ renewal.creditDuration }}</p>
                        </ion-label>
                    </ion-col>
                </ion-row>


                <ion-row>
                    <ion-col size="7">
                        <ion-label text-wrap>
                            <strong>Fecha de solicitud:</strong>
                        </ion-label>
                    </ion-col>
                    <ion-col size="5" class="align-end">
                        <ion-label>
                            <p>{{ renewal.requestDate }}</p>
                        </ion-label>
                    </ion-col>
                </ion-row>

                <ion-row>
                    <ion-col size="7">
                        <ion-label text-wrap>
                            <strong>Saldo pendiente:</strong>
                        </ion-label>
                    </ion-col>
                    <ion-col size="5" class="align-end">
                        <ion-label color="danger">
                            <p>{{ activeCredit ? activeCredit.balance.toLocaleString('DE-de') : 0}}</p>
                        </ion-label>
                    </ion-col>
                </ion-row>

                <ion-row>
                        <ion-col size="7">
                            <ion-label text-wrap>
                                <strong>Monto a entregar :</strong>
                            </ion-label>
                        </ion-col>
                        <ion-col size="5" class="align-end">
                            <ion-label color="success">
                                <p>{{ totalAmountToCredit.toLocaleString('DE-de') }}</p>
                            </ion-label>
                        </ion-col>
                    </ion-row>
            </ion-grid>
        </ion-card-content>
    </ion-card>

    <ion-grid>
        <ion-row>
            <ion-col size="6">
                <ion-button expand="block" color="primary" (click)="renewalApproved('Aprobado')"
                    [disabled]="activateButton">Aprobar</ion-button>
            </ion-col>
            <ion-col size="6">
                <ion-button expand="block" color="danger" (click)="renewalApproved('No aprobado')">No aprobar
                </ion-button>
            </ion-col>
        </ion-row>
    </ion-grid>



</ion-content>